(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"5gel":function(t,e,i){"use strict";i.r(e),i.d(e,"InboxModule",function(){return P});var n=i("PCNd"),c=i("tk/3"),s=i("ofXK"),o=i("JIr8"),a=i("EY2u"),r=i("fXoL");const l="https://api.angular-email.com";let b=(()=>{class t{constructor(t){this.http=t}getEmails(){return this.http.get(`${l}/emails`)}getEmail(t){return this.http.get(`${l}/emails/${t}`)}sendEmail(t){return this.http.post(`${l}/emails`,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=i("tyNb");let u=(()=>{class t{constructor(t,e){this.emailService=t,this.router=e}resolve(t){const{id:e}=t.params;return this.emailService.getEmail(e).pipe(Object(o.a)(()=>(this.router.navigateByUrl("/inbox/not-found"),a.a)))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(b),r.Sb(m.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=i("eIep");const p=[[["","modalTitle",""]],"*",[["","modalFooter",""]]],f=["[modalTitle]","*","[modalFooter]"];let h=(()=>{class t{constructor(t){this.el=t,this.dismiss=new r.n}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.el.nativeElement)}onDismissClick(){this.dismiss.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l))},t.\u0275cmp=r.Db({type:t,selectors:[["app-modal"]],outputs:{dismiss:"dismiss"},ngContentSelectors:f,decls:12,vars:0,consts:[[1,"ui","dimmer","visible","active",3,"click"],[1,"ui","modal","visible","active",3,"click"],[1,"close","icon",3,"click"],[1,"header"],[1,"content"],[1,"actions","actions-default"],[1,"ui","button",3,"click"],[1,"actions","custom"]],template:function(t,e){1&t&&(r.bc(p),r.Ob(0,"div",0),r.Vb("click",function(){return e.onDismissClick()}),r.Ob(1,"div",1),r.Vb("click",function(t){return t.stopPropagation()}),r.Ob(2,"i",2),r.Vb("click",function(){return e.onDismissClick()}),r.Nb(),r.Ob(3,"div",3),r.ac(4),r.Nb(),r.Ob(5,"div",4),r.ac(6,1),r.Nb(),r.Ob(7,"div",5),r.Ob(8,"button",6),r.Vb("click",function(){return e.onDismissClick()}),r.kc(9,"OK"),r.Nb(),r.Nb(),r.Ob(10,"div",7),r.ac(11,2),r.Nb(),r.Nb(),r.Nb())},styles:[".actions-default[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]:empty{display:none}.actions[_ngcontent-%COMP%]:empty + .actions-default[_ngcontent-%COMP%]{display:block}"]}),t})();var v=i("3Pt+"),g=i("9odQ");let O=(()=>{class t{constructor(){this.emailForm=new v.d({}),this.emailSubmit=new r.n,this.submitted=!1}ngOnInit(){const{subject:t,from:e,to:i,text:n}=this.email;this.emailForm=new v.d({to:new v.b(i,[v.i.required,v.i.email]),from:new v.b({value:e,disabled:!0}),subject:new v.b(t,[v.i.required]),text:new v.b(n,[v.i.required])})}abs(t){return t}onSubmit(){this.emailForm.invalid||(this.submitted=!0,this.emailSubmit.emit(this.emailForm.getRawValue()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-form"]],inputs:{email:"email",submitted:"submitted"},outputs:{emailSubmit:"emailSubmit"},decls:7,vars:6,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["inputType","email","label","To",3,"control"],["inputType","email","label","From",3,"control"],["inputType","text","label","Subject",3,"control"],["controlType","textarea","label","Text",3,"control"],["type","submit",1,"ui","primary","button",3,"disabled"]],template:function(t,e){1&t&&(r.Ob(0,"form",0),r.Vb("ngSubmit",function(){return e.onSubmit()}),r.Kb(1,"app-input",1),r.Kb(2,"app-input",2),r.Kb(3,"app-input",3),r.Kb(4,"app-input",4),r.Ob(5,"button",5),r.kc(6,"Submit"),r.Nb(),r.Nb()),2&t&&(r.cc("formGroup",e.emailForm),r.zb(1),r.cc("control",e.abs(e.emailForm.get("to"))),r.zb(1),r.cc("control",e.abs(e.emailForm.get("from"))),r.zb(1),r.cc("control",e.abs(e.emailForm.get("subject"))),r.zb(1),r.cc("control",e.abs(e.emailForm.get("text"))),r.zb(1),r.cc("disabled",e.submitted))},directives:[v.j,v.g,v.e,g.a],styles:[""]}),t})();function w(t,e){if(1&t){const t=r.Pb();r.Ob(0,"app-modal",2),r.Vb("dismiss",function(){return r.fc(t),r.Xb().showModal=!1}),r.Ob(1,"div",3),r.kc(2,"Repy"),r.Nb(),r.Ob(3,"app-email-form",4),r.Vb("emailSubmit",function(e){return r.fc(t),r.Xb().onSubmit(e)}),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.zb(3),r.cc("email",t.email)}}let y=(()=>{class t{constructor(t){this.emailService=t,this.showModal=!1,this.email={id:"",to:"",subject:"",html:"",text:"",from:""}}ngOnChanges(){const t=this.email.text.replace(/\n/gi,"\n> ");this.email=Object.assign(Object.assign({},this.email),{from:this.email.to,to:this.email.from,subject:this.email.subject.includes("Re:")?this.email.subject:`Re:${this.email.subject}`,text:`\n\n\n----------- ${this.email.from} wrote:\n ${t}`})}onSubmit(t){this.emailService.sendEmail(t).subscribe(()=>{this.showModal=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-reply"]],inputs:{email:"email"},features:[r.xb],decls:3,vars:1,consts:[[1,"ui","button","primary",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(t,e){1&t&&(r.Ob(0,"button",0),r.Vb("click",function(){return e.showModal=!0}),r.kc(1,"Repy"),r.Nb(),r.jc(2,w,4,1,"app-modal",1)),2&t&&(r.zb(2),r.cc("ngIf",e.showModal))},directives:[s.j,h,O],styles:[""]}),t})();function k(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"div",1),r.Ob(2,"div"),r.Ob(3,"h3"),r.kc(4),r.Nb(),r.Nb(),r.Ob(5,"div"),r.kc(6," From: "),r.Ob(7,"i"),r.kc(8),r.Nb(),r.Nb(),r.Ob(9,"div"),r.kc(10," To: "),r.Ob(11,"i"),r.kc(12),r.Nb(),r.Nb(),r.Ob(13,"div"),r.Kb(14,"app-email-reply",2),r.Nb(),r.Nb(),r.Kb(15,"div",3),r.Kb(16,"div",4),r.Lb()),2&t){const t=r.Xb();r.zb(4),r.lc(t.email.subject),r.zb(4),r.lc(t.email.from),r.zb(4),r.lc(t.email.to),r.zb(2),r.cc("email",t.email),r.zb(2),r.cc("innerHTML",t.email.html,r.gc)}}let N=(()=>{class t{constructor(t,e){this.route=t,this.emailService=e}ngOnInit(){this.route.params.pipe(Object(d.a)(({id:t})=>this.emailService.getEmail(t))).subscribe(t=>{this.email=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m.a),r.Jb(b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-show"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"header"],[3,"email"],[1,"ui","divider"],[3,"innerHTML"]],template:function(t,e){1&t&&r.jc(0,k,17,5,"ng-container",0),2&t&&r.cc("ngIf",e.email)},directives:[s.j,y],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}"]}),t})(),S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-placeholder"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"envelope","outline","icon"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Kb(2,"i",2),r.kc(3," Select an email to get started! "),r.Nb(),r.Nb())},styles:[""]}),t})();var j=i("qXBG");function M(t,e){if(1&t){const t=r.Pb();r.Ob(0,"app-modal",2),r.Vb("dismiss",function(){return r.fc(t),r.Xb().showModal=!1}),r.Ob(1,"h3",3),r.kc(2,"Compose"),r.Nb(),r.Ob(3,"app-email-form",4),r.Vb("emailSubmit",function(e){return r.fc(t),r.Xb().onSubmit(e)}),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.zb(3),r.cc("email",t.email)("submitted",t.submitted)}}let C=(()=>{class t{constructor(t,e){this.authService=t,this.emailService=e,this.showModal=!1,this.submitted=!1,this.email={id:"",to:"",subject:"",html:"",text:"",from:`${t.username}@angular-email.com`}}ngOnInit(){}onSubmit(t){console.log("reaching here",t),this.emailService.sendEmail(t).subscribe(t=>{this.showModal=!1,this.submitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(j.a),r.Jb(b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-create"]],decls:3,vars:1,consts:[[1,"ui","button","primary","fluid",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","submitted","emailSubmit"]],template:function(t,e){1&t&&(r.Ob(0,"button",0),r.Vb("click",function(){return e.showModal=!0}),r.kc(1,"Compose"),r.Nb(),r.jc(2,M,4,2,"app-modal",1)),2&t&&(r.zb(2),r.cc("ngIf",e.showModal))},directives:[s.j,h,O],styles:[".ui.button.primary[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),t})();function x(t,e){if(1&t&&(r.Ob(0,"div",2),r.Ob(1,"a",3),r.Ob(2,"div",4),r.Ob(3,"div",5),r.kc(4),r.Nb(),r.Ob(5,"p",6),r.kc(6),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.zb(1),r.cc("routerLink",t.id),r.zb(3),r.mc(" ",t.subject," "),r.zb(2),r.mc(" ",t.from,"")}}let z=(()=>{class t{constructor(t){this.emailService=t,this.emails=[]}ngOnInit(){this.emailService.getEmails().subscribe(t=>{this.emails=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-index"]],decls:2,vars:1,consts:[[1,"ui","celled","list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],["routerLinkActive","active",3,"routerLink"],[1,"content"],[1,"header","trim"],[1,"trim"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.jc(1,x,7,3,"div",1),r.Nb()),2&t&&(r.zb(1),r.cc("ngForOf",e.emails))},directives:[s.i,m.d,m.c],styles:['.item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}a.active[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}a.active[_ngcontent-%COMP%]:before{content:">";font-size:20px;margin-right:10px}.content[_ngcontent-%COMP%]{width:90%}.trim[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}']}),t})();const I=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"ui","grid","stackable"],[1,"five","wide","column"],[1,"eleven","wide","column"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Kb(2,"app-email-create"),r.Kb(3,"app-email-index"),r.Nb(),r.Ob(4,"div",2),r.Kb(5,"router-outlet"),r.Nb(),r.Nb())},directives:[C,z,m.f],styles:[""]}),t})(),children:[{path:"not-found",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"search","icon"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Kb(2,"i",2),r.kc(3," Email not found! "),r.Nb(),r.Nb())},styles:[""]}),t})()},{path:":id",component:N,resolve:{email:u}},{path:"",component:S}]}];let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[m.e.forChild(I)],m.e]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[s.c,F,c.c,n.a,v.h]]}),t})()}}]);